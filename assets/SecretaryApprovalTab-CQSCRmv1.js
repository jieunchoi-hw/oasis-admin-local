import{_ as L}from"./CommonTable-BoMKZVtz.js";import{_ as R,r as n,h as B,c as x,a as t,b as a,w as i,aj as U,$ as r,F as $,j as F,e as C,o as m,Y as u,t as d,i as P}from"./index-mzeqWVVh.js";import{V as N}from"./VSelect-lsaW5UUv.js";import{V as O}from"./VTextField-DgBH0ODC.js";import{V as E}from"./VDialog-I2NMKYD5.js";import{V as A}from"./VCardText-CrUezzok.js";import{V as D,b as Q,d as W}from"./VCard-BD2Tg-Y7.js";import{V as Y}from"./VTextarea-sLE8bLDU.js";import"./VRow-C59k9xFs.js";/* empty css              */import"./VTable-CQ1cqGtT.js";import"./VPagination-fypDa0Ks.js";import"./VInput-xOisKZ3D.js";import"./index-CfMHDJHf.js";import"./transition-5AsvH0v0.js";import"./forwardRefs-DWGaNmQL.js";import"./VMenu-CdhCpIWt.js";import"./ssrBoot-DGWmgfyH.js";import"./createSimpleFunctional-DD5VFrvS.js";import"./VAvatar-G1pbn739.js";import"./VImg-DYfISWKW.js";import"./VDivider-DYs82unK.js";import"./VOverlay-Cb3Oblbd.js";import"./scopeId-C7doXGTv.js";import"./VCheckboxBtn-ZTh5nLQg.js";import"./VChip-BbRDVRyc.js";import"./VSlideGroup-DX_Pzat7.js";const G={class:"d-flex justify-space-between mb-4"},H={class:"d-flex align-center gap-4"},J={class:"d-flex align-center gap-2"},K={class:"d-flex align-center gap-1"},X={key:0,class:"d-flex flex-wrap gap-4"},Z={class:"d-flex justify-space-between align-start mb-2"},ee={class:"flex-grow-1"},te={class:"text-h5 font-weight-medium mb-1"},se={class:"text-body-2 text-medium-emphasis"},ae={class:"text-body-2 text-medium-emphasis mt-1"},le={class:"d-flex justify-space-between align-center mt-2"},ie={class:"text-caption text-medium-emphasis"},oe={key:0,class:"d-flex flex-column gap-4"},re={class:"d-flex justify-center"},de={class:"d-flex flex-column gap-3"},ne={class:"text-body-1"},ue={class:"text-body-1"},me={class:"text-body-1"},ve={class:"text-body-1"},pe={class:"text-body-1"},ce={class:"text-body-1"},ge={__name:"SecretaryApprovalTab",setup(fe){const g=n("all"),v=n(""),f=n(""),p=n("card"),c=n(!1),o=n(null),y=n(!1),M=n(1),S=n(10),T=n([{key:"secretaryName",label:"비서명",width:"15%"},{key:"team",label:"요청팀",width:"15%"},{key:"requester",label:"요청자",width:"10%"},{key:"message",label:"요청 메시지",width:"25%"},{key:"status",label:"Status",width:"10%"},{key:"requestDate",label:"요청 일자 (Request date)",width:"15%"}]),I=n(["신중한 똑쟁이","예쁜 지은이","모든 비서"]),h=n([{title:"대기중",value:"waiting"},{title:"승인",value:"approved"},{title:"보류",value:"pending"},{title:"거절",value:"denied"}]),w=n([{id:1,secretaryName:"신중한 똑쟁이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"waiting",requestDate:"2025-05-12 10:21",responseMessage:"해당 비서는 부서단위에서 사용할 수 없습니다.",assignee:"김종성"},{id:2,secretaryName:"진지한 똑쟁이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"approved",requestDate:"2025-05-12 10:21",responseMessage:"승인되었습니다.",assignee:"김종성"},{id:3,secretaryName:"신중한 똑쟁이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"denied",requestDate:"2025-05-12 10:21",responseMessage:"해당 비서는 부서단위에서 사용할 수 없습니다.",assignee:"김종성"},{id:4,secretaryName:"글잘쓰는 지은이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"waiting",requestDate:"2025-05-12 10:21",responseMessage:"",assignee:"김종성"},{id:5,secretaryName:"STT특화",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"waiting",requestDate:"2025-05-12 10:21",responseMessage:"",assignee:"김종성"},{id:6,secretaryName:"신중한 똑쟁이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"approved",requestDate:"2025-05-12 10:21",responseMessage:"승인되었습니다.",assignee:"김종성"},{id:7,secretaryName:"신중한 똑쟁이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"waiting",requestDate:"2025-05-12 10:21",responseMessage:"",assignee:"김종성"},{id:8,secretaryName:"신중한 똑쟁이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"waiting",requestDate:"2025-05-12 10:21",responseMessage:"",assignee:"김종성"},{id:9,secretaryName:"신중한 똑쟁이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"waiting",requestDate:"2025-05-12 10:21",responseMessage:"",assignee:"김종성"}]),b=B(()=>{let l=w.value;if(g.value!=="all"&&(l=l.filter(e=>e.status===g.value)),v.value&&v.value!=="모든 비서"&&(l=l.filter(e=>e.secretaryName===v.value)),f.value){const e=f.value.toLowerCase();l=l.filter(s=>s.secretaryName.toLowerCase().includes(e)||s.requester.toLowerCase().includes(e)||s.team.toLowerCase().includes(e))}return l}),V=l=>({waiting:"success",approved:"primary",pending:"warning",denied:"error"})[l]||"grey",q=l=>({waiting:"Waiting",approved:"Approved",pending:"보류",denied:"Denied"})[l]||l,_=l=>l,k=l=>{o.value={...l},c.value=!0},j=async()=>{if(o.value){y.value=!0;try{console.log("Saving request:",o.value),await new Promise(e=>setTimeout(e,1e3));const l=w.value.findIndex(e=>e.id===o.value.id);l!==-1&&(w.value[l]={...o.value}),c.value=!1,console.log("Request saved successfully")}catch(l){console.error("Failed to save request:",l)}finally{y.value=!1}}},z=({action:l,item:e})=>{l==="view"&&k(e)};return(l,e)=>(m(),x("div",null,[t("div",G,[a(U,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=s=>g.value=s),color:"primary",mandatory:"",density:"compact",variant:"outlined"},{default:i(()=>[a(r,{value:"all"},{default:i(()=>e[9]||(e[9]=[u("ALL")])),_:1}),a(r,{value:"waiting"},{default:i(()=>e[10]||(e[10]=[u("대기중")])),_:1}),a(r,{value:"approved"},{default:i(()=>e[11]||(e[11]=[u("승인")])),_:1}),a(r,{value:"pending"},{default:i(()=>e[12]||(e[12]=[u("보류")])),_:1}),a(r,{value:"denied"},{default:i(()=>e[13]||(e[13]=[u("거절")])),_:1})]),_:1},8,["modelValue"]),t("div",H,[t("div",J,[a(N,{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=s=>v.value=s),items:I.value,variant:"outlined",density:"compact","hide-details":"",style:{"min-width":"150px"}},null,8,["modelValue","items"]),a(O,{modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=s=>f.value=s),label:"검색어",variant:"outlined",density:"compact","hide-details":"",style:{"min-width":"200px"}},null,8,["modelValue"]),a(r,{color:"primary",variant:"outlined"},{default:i(()=>e[14]||(e[14]=[u(" 검색 ")])),_:1})]),t("div",K,[a(r,{color:p.value==="card"?"primary":"secondary",variant:"text",size:"small",icon:"ri-grid-line",onClick:e[3]||(e[3]=s=>p.value="card")},null,8,["color"]),a(r,{color:p.value==="list"?"primary":"secondary",variant:"text",size:"small",icon:"ri-list-check",onClick:e[4]||(e[4]=s=>p.value="list")},null,8,["color"])])])]),p.value==="card"?(m(),x("div",X,[(m(!0),x($,null,F(b.value,s=>(m(),C(D,{key:s.id,class:"request-card",style:{flex:"1 1 0","min-width":"300px","min-height":"130px"}},{default:i(()=>[a(A,{class:"pa-3"},{default:i(()=>[t("div",Z,[t("div",ee,[t("div",te,d(s.secretaryName),1),t("div",se,d(s.team)+" / "+d(s.requester),1),t("div",ae,d(s.message),1)]),a(r,{color:V(s.status),size:"small",variant:"tonal",class:"text-caption"},{default:i(()=>[u(d(q(s.status)),1)]),_:2},1032,["color"])]),t("div",le,[t("div",ie," 요청일자 "+d(_(s.requestDate)),1),a(r,{variant:"text",size:"small",color:"primary",onClick:xe=>k(s)},{default:i(()=>e[15]||(e[15]=[u(" 요청 정보 ")])),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))])):(m(),C(L,{key:1,data:b.value,columns:T.value,page:M.value,"items-per-page":S.value,"total-items":b.value.length,actions:["view"],"action-labels":{view:"요청 정보"},"action-colors":{view:"primary"},onAction:z},{"cell-status":i(({value:s})=>[a(r,{color:V(s),size:"small",variant:"tonal",class:"text-caption"},{default:i(()=>[u(d(q(s)),1)]),_:2},1032,["color"])]),_:1},8,["data","columns","page","items-per-page","total-items"])),a(E,{modelValue:c.value,"onUpdate:modelValue":e[8]||(e[8]=s=>c.value=s),"max-width":"500"},{default:i(()=>[a(D,null,{default:i(()=>[a(Q,{class:"d-flex justify-space-between align-center"},{default:i(()=>[e[16]||(e[16]=u(" 요청 정보 ")),a(r,{icon:"ri-close-line",variant:"text",onClick:e[5]||(e[5]=s=>c.value=!1)})]),_:1}),a(A,null,{default:i(()=>[o.value?(m(),x("div",oe,[t("div",re,[a(r,{color:V(o.value.status),size:"small",variant:"tonal",class:"text-caption"},{default:i(()=>[u(d(q(o.value.status)),1)]),_:1},8,["color"])]),t("div",de,[t("div",null,[e[17]||(e[17]=t("div",{class:"text-body-2 font-weight-medium mb-1"},"비서명",-1)),t("div",ne,d(o.value.secretaryName),1)]),t("div",null,[e[18]||(e[18]=t("div",{class:"text-body-2 font-weight-medium mb-1"},"요청팀",-1)),t("div",ue,d(o.value.team),1)]),t("div",null,[e[19]||(e[19]=t("div",{class:"text-body-2 font-weight-medium mb-1"},"요청자",-1)),t("div",me,d(o.value.requester),1)]),t("div",null,[e[20]||(e[20]=t("div",{class:"text-body-2 font-weight-medium mb-1"}," 요청 메시지 ",-1)),t("div",ve,d(o.value.message),1)]),t("div",null,[e[21]||(e[21]=t("div",{class:"text-body-2 font-weight-medium mb-1"},"요청 일자",-1)),t("div",pe,d(_(o.value.requestDate)),1)])]),t("div",null,[e[22]||(e[22]=t("div",{class:"text-body-2 font-weight-medium mb-2"},"처리",-1)),a(N,{modelValue:o.value.status,"onUpdate:modelValue":e[6]||(e[6]=s=>o.value.status=s),items:h.value,variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue","items"])]),t("div",null,[e[23]||(e[23]=t("div",{class:"text-body-2 font-weight-medium mb-2"},"Message",-1)),a(Y,{modelValue:o.value.responseMessage,"onUpdate:modelValue":e[7]||(e[7]=s=>o.value.responseMessage=s),variant:"outlined",rows:"3",placeholder:"처리 메시지를 입력하세요","hide-details":""},null,8,["modelValue"])]),t("div",null,[e[24]||(e[24]=t("div",{class:"text-body-2 font-weight-medium mb-1"},"담당자",-1)),t("div",ce,d(o.value.assignee),1)])])):P("",!0)]),_:1}),a(W,{class:"d-flex justify-center"},{default:i(()=>[a(r,{color:"primary",size:"large",onClick:j,loading:y.value},{default:i(()=>e[25]||(e[25]=[u(" Save ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Qe=R(ge,[["__scopeId","data-v-5873afb4"]]);export{Qe as default};
