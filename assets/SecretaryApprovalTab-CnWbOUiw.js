import{_ as B,r,h as U,c as f,a as t,b as a,w as i,aj as $,ab as F,$ as n,F as P,j as K,e as A,o as m,Y as u,t as d,i as O}from"./index-BUCVrt0D.js";import{_ as Q}from"./CommonTable-Zox2qNtK.js";import{V as D}from"./VSelect-C2_5gR8K.js";import{V as E}from"./VTextField-HW_qfTrI.js";import{V as W}from"./VDialog-DEx4IvE0.js";import{V as S}from"./VCardText-jtWNJ-Z2.js";import{V as M,b as Y,d as G}from"./VCard-BhCS7Zjs.js";import{V as H}from"./VTextarea-3mRPcaRG.js";import"./VRow-ty-P46dt.js";/* empty css              */import"./VTable-DmD1mmIK.js";import"./VPagination-CkgCSHSH.js";import"./VInput-C-_ugu7O.js";import"./index-Cqa9mfS4.js";import"./transition-B1edmH-1.js";import"./forwardRefs-D3j0TLhE.js";import"./VMenu-BaTKu0os.js";import"./ssrBoot-Dqsjogr7.js";import"./createSimpleFunctional-BlGRM-wS.js";import"./VAvatar-HqcBf6cK.js";import"./VImg-Dl5wGMqL.js";import"./index-DUAu-E5G.js";import"./VDivider-EpGxZRvH.js";import"./VOverlay-DQ8dMtOK.js";import"./scopeId-zxYvpZg5.js";import"./dialog-transition-PaqBqsbf.js";import"./VCheckboxBtn-LR4eXWNK.js";import"./VChip-DpfICOa-.js";import"./VSlideGroup-Du8_-bJV.js";const J={class:"d-flex justify-space-between mb-4"},X={class:"d-flex align-center gap-4"},Z={class:"d-flex align-center gap-2"},ee={class:"d-flex align-center gap-1"},te={key:0,class:"d-flex flex-wrap gap-4"},se={class:"d-flex justify-space-between align-start mb-2"},ae={class:"flex-grow-1"},le={class:"text-h5 font-weight-medium mb-1"},ie={class:"text-body-2 text-medium-emphasis"},oe={class:"text-body-2 text-medium-emphasis mt-1"},re={class:"d-flex justify-space-between align-center mt-2"},ne={class:"text-caption text-medium-emphasis"},de={key:0,class:"d-flex flex-column gap-4"},ue={class:"d-flex justify-center"},me={class:"d-flex flex-column gap-3"},ve={class:"text-body-1"},pe={class:"text-body-1"},ce={class:"text-body-1"},ge={class:"text-body-1"},fe={class:"text-body-1"},xe={class:"text-body-1"},ye={__name:"SecretaryApprovalTab",setup(we){const g=r("all"),v=r("비서명"),x=r(""),y=r(""),p=r("card"),c=r(!1),o=r(null),w=r(!1),T=r(1),h=r(10),I=r([{key:"secretaryName",label:"비서명",width:"15%"},{key:"team",label:"요청팀",width:"15%"},{key:"requester",label:"요청자",width:"10%"},{key:"message",label:"요청 메시지",width:"25%"},{key:"status",label:"Status",width:"10%"},{key:"requestDate",label:"요청 일자 (Request date)",width:"15%"}]),j=r(["비서명","신중한 똑쟁이","진지한 똑쟁이","글잘쓰는 지은이","STT특화"]),z=r([{title:"대기중",value:"waiting"},{title:"승인",value:"approved"},{title:"보류",value:"pending"},{title:"거절",value:"denied"}]),b=r([{id:1,secretaryName:"신중한 똑쟁이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"waiting",requestDate:"2025-05-12 10:21",responseMessage:"해당 비서는 부서단위에서 사용할 수 없습니다.",assignee:"김종성"},{id:2,secretaryName:"진지한 똑쟁이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"approved",requestDate:"2025-05-12 10:21",responseMessage:"승인되었습니다.",assignee:"김종성"},{id:3,secretaryName:"신중한 똑쟁이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"denied",requestDate:"2025-05-12 10:21",responseMessage:"해당 비서는 부서단위에서 사용할 수 없습니다.",assignee:"김종성"},{id:4,secretaryName:"글잘쓰는 지은이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"waiting",requestDate:"2025-05-12 10:21",responseMessage:"",assignee:"김종성"},{id:5,secretaryName:"STT특화",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"waiting",requestDate:"2025-05-12 10:21",responseMessage:"",assignee:"김종성"},{id:6,secretaryName:"신중한 똑쟁이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"approved",requestDate:"2025-05-12 10:21",responseMessage:"승인되었습니다.",assignee:"김종성"},{id:7,secretaryName:"신중한 똑쟁이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"waiting",requestDate:"2025-05-12 10:21",responseMessage:"",assignee:"김종성"},{id:8,secretaryName:"신중한 똑쟁이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"waiting",requestDate:"2025-05-12 10:21",responseMessage:"",assignee:"김종성"},{id:9,secretaryName:"신중한 똑쟁이",team:"AI솔루션팀",requester:"최지은",message:"xx업무에 팀원 모두가 활용하려고 함.",status:"waiting",requestDate:"2025-05-12 10:21",responseMessage:"",assignee:"김종성"}]),V=U(()=>{let l=b.value;if(g.value!=="all"&&(l=l.filter(e=>e.status===g.value)),v.value&&v.value!=="비서명"&&(l=l.filter(e=>e.secretaryName===v.value)),y.value){const e=y.value.toLowerCase();l=l.filter(s=>s.secretaryName.toLowerCase().includes(e)||s.requester.toLowerCase().includes(e)||s.team.toLowerCase().includes(e))}return l}),q=l=>({waiting:"success",approved:"primary",pending:"warning",denied:"error"})[l]||"grey",_=l=>({waiting:"Waiting",approved:"Approved",pending:"보류",denied:"Denied"})[l]||l,k=l=>l,C=l=>{o.value={...l},c.value=!0},L=async()=>{if(o.value){w.value=!0;try{console.log("Saving request:",o.value),await new Promise(e=>setTimeout(e,1e3));const l=b.value.findIndex(e=>e.id===o.value.id);l!==-1&&(b.value[l]={...o.value}),c.value=!1,console.log("Request saved successfully")}catch(l){console.error("Failed to save request:",l)}finally{w.value=!1}}},N=()=>{y.value=x.value},R=({action:l,item:e})=>{l==="view"&&C(e)};return(l,e)=>(m(),f("div",null,[t("div",J,[a($,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=s=>g.value=s),color:"primary",mandatory:"",density:"compact",variant:"outlined"},{default:i(()=>[a(n,{value:"all"},{default:i(()=>e[9]||(e[9]=[u("ALL")])),_:1}),a(n,{value:"waiting"},{default:i(()=>e[10]||(e[10]=[u("대기중")])),_:1}),a(n,{value:"approved"},{default:i(()=>e[11]||(e[11]=[u("승인")])),_:1}),a(n,{value:"pending"},{default:i(()=>e[12]||(e[12]=[u("보류")])),_:1}),a(n,{value:"denied"},{default:i(()=>e[13]||(e[13]=[u("거절")])),_:1})]),_:1},8,["modelValue"]),t("div",X,[t("div",Z,[a(D,{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=s=>v.value=s),items:j.value,variant:"outlined",density:"compact","hide-details":"",style:{"min-width":"150px"}},null,8,["modelValue","items"]),a(E,{modelValue:x.value,"onUpdate:modelValue":e[2]||(e[2]=s=>x.value=s),label:"검색어",variant:"outlined",density:"compact","hide-details":"",style:{"min-width":"200px"},onKeyup:F(N,["enter"])},null,8,["modelValue"]),a(n,{color:"primary",variant:"outlined",onClick:N},{default:i(()=>e[14]||(e[14]=[u(" 검색 ")])),_:1})]),t("div",ee,[a(n,{color:p.value==="card"?"primary":"secondary",variant:"text",size:"small",icon:"ri-grid-line",onClick:e[3]||(e[3]=s=>p.value="card")},null,8,["color"]),a(n,{color:p.value==="list"?"primary":"secondary",variant:"text",size:"small",icon:"ri-list-check",onClick:e[4]||(e[4]=s=>p.value="list")},null,8,["color"])])])]),p.value==="card"?(m(),f("div",te,[(m(!0),f(P,null,K(V.value,s=>(m(),A(M,{key:s.id,class:"request-card",style:{flex:"1 1 0","min-width":"300px","min-height":"130px"}},{default:i(()=>[a(S,{class:"pa-3"},{default:i(()=>[t("div",se,[t("div",ae,[t("div",le,d(s.secretaryName),1),t("div",ie,d(s.team)+" / "+d(s.requester),1),t("div",oe,d(s.message),1)]),a(n,{color:q(s.status),size:"small",variant:"tonal",class:"text-caption"},{default:i(()=>[u(d(_(s.status)),1)]),_:2},1032,["color"])]),t("div",re,[t("div",ne," 요청일자 "+d(k(s.requestDate)),1),a(n,{variant:"text",size:"small",color:"primary",onClick:be=>C(s)},{default:i(()=>e[15]||(e[15]=[u(" 요청 정보 ")])),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))])):(m(),A(Q,{key:1,data:V.value,columns:I.value,page:T.value,"items-per-page":h.value,"total-items":V.value.length,actions:["view"],"action-labels":{view:"요청 정보"},"action-colors":{view:"primary"},onAction:R},{"cell-status":i(({value:s})=>[a(n,{color:q(s),size:"small",variant:"tonal",class:"text-caption"},{default:i(()=>[u(d(_(s)),1)]),_:2},1032,["color"])]),_:1},8,["data","columns","page","items-per-page","total-items"])),a(W,{modelValue:c.value,"onUpdate:modelValue":e[8]||(e[8]=s=>c.value=s),"max-width":"500"},{default:i(()=>[a(M,null,{default:i(()=>[a(Y,{class:"d-flex justify-space-between align-center"},{default:i(()=>[e[16]||(e[16]=u(" 요청 정보 ")),a(n,{icon:"ri-close-line",variant:"text",onClick:e[5]||(e[5]=s=>c.value=!1)})]),_:1}),a(S,null,{default:i(()=>[o.value?(m(),f("div",de,[t("div",ue,[a(n,{color:q(o.value.status),size:"small",variant:"tonal",class:"text-caption"},{default:i(()=>[u(d(_(o.value.status)),1)]),_:1},8,["color"])]),t("div",me,[t("div",null,[e[17]||(e[17]=t("div",{class:"text-body-2 font-weight-medium mb-1"},"비서명",-1)),t("div",ve,d(o.value.secretaryName),1)]),t("div",null,[e[18]||(e[18]=t("div",{class:"text-body-2 font-weight-medium mb-1"},"요청팀",-1)),t("div",pe,d(o.value.team),1)]),t("div",null,[e[19]||(e[19]=t("div",{class:"text-body-2 font-weight-medium mb-1"},"요청자",-1)),t("div",ce,d(o.value.requester),1)]),t("div",null,[e[20]||(e[20]=t("div",{class:"text-body-2 font-weight-medium mb-1"}," 요청 메시지 ",-1)),t("div",ge,d(o.value.message),1)]),t("div",null,[e[21]||(e[21]=t("div",{class:"text-body-2 font-weight-medium mb-1"},"요청 일자",-1)),t("div",fe,d(k(o.value.requestDate)),1)])]),t("div",null,[e[22]||(e[22]=t("div",{class:"text-body-2 font-weight-medium mb-2"},"처리",-1)),a(D,{modelValue:o.value.status,"onUpdate:modelValue":e[6]||(e[6]=s=>o.value.status=s),items:z.value,variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue","items"])]),t("div",null,[e[23]||(e[23]=t("div",{class:"text-body-2 font-weight-medium mb-2"},"Message",-1)),a(H,{modelValue:o.value.responseMessage,"onUpdate:modelValue":e[7]||(e[7]=s=>o.value.responseMessage=s),variant:"outlined",rows:"3",placeholder:"처리 메시지를 입력하세요","hide-details":""},null,8,["modelValue"])]),t("div",null,[e[24]||(e[24]=t("div",{class:"text-body-2 font-weight-medium mb-1"},"담당자",-1)),t("div",xe,d(o.value.assignee),1)])])):O("",!0)]),_:1}),a(G,{class:"d-flex justify-center"},{default:i(()=>[a(n,{color:"primary",size:"large",onClick:L,loading:w.value},{default:i(()=>e[25]||(e[25]=[u(" Save ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},He=B(ye,[["__scopeId","data-v-75b84aee"]]);export{He as default};
