import{E as ae,ad as E,M as ne,P as oe,a7 as ie,h as p,ae as D,r as g,l as se,S as ue,af as re,b as a,X as x,F as C,ag as de,ah as ce,_ as fe,ai as me,m as ve,c as B,a as m,w,a3 as pe,o as P,Y as z,V as ge,$ as ye}from"./index-0N4iB016.js";import{V as he}from"./VForm-0eeWzjzk.js";import{m as Ve,u as be,V as U,a as j}from"./VInput-CeDYeaBH.js";import{m as Ie,f as ke,a as we,b as Ce,V as Se}from"./VTextField-DMuyETk0.js";import{f as Fe}from"./forwardRefs-DWGaNmQL.js";import{V as _e}from"./VChip-XBd2A9Cw.js";import{V as xe}from"./VImg-CD4ETszo.js";import"./index-BRFuFNRh.js";import"./transition-AaGDPZbl.js";import"./VSlideGroup-DTLNKVgN.js";import"./VAvatar-DXrDj9De.js";const Be=ae({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...Ve({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>E(e).every(v=>v!=null&&typeof v=="object")},...Ie({clearable:!0})},"VFileInput"),Pe=ne()({name:"VFileInput",inheritAttrs:!1,props:Be(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,v){let{attrs:I,emit:s,slots:o}=v;const{t:u}=oe(),i=ie(e,"modelValue",e.modelValue,l=>E(l),l=>!e.multiple&&Array.isArray(l)?l[0]:l),{isFocused:y,focus:S,blur:r}=be(e),t=p(()=>typeof e.showSize!="boolean"?e.showSize:void 0),d=p(()=>(i.value??[]).reduce((l,n)=>{let{size:h=0}=n;return l+h},0)),A=p(()=>D(d.value,t.value)),F=p(()=>(i.value??[]).map(l=>{const{name:n="",size:h=0}=l;return e.showSize?`${n} (${D(h,t.value)})`:n})),O=p(()=>{var n;const l=((n=i.value)==null?void 0:n.length)??0;return e.showSize?u(e.counterSizeString,l,A.value):u(e.counterString,l)}),R=g(),T=g(),c=g(),q=p(()=>y.value||e.active),L=p(()=>["plain","underlined"].includes(e.variant));function _(){var l;c.value!==document.activeElement&&((l=c.value)==null||l.focus()),y.value||S()}function X(l){var n;(n=c.value)==null||n.click()}function Y(l){s("mousedown:control",l)}function G(l){var n;(n=c.value)==null||n.click(),s("click:control",l)}function H(l){l.stopPropagation(),_(),de(()=>{i.value=[],ce(e["onClick:clear"],l)})}return se(i,l=>{(!Array.isArray(l)||!l.length)&&c.value&&(c.value.value="")}),ue(()=>{const l=!!(o.counter||e.counter),n=!!(l||o.details),[h,J]=re(I),{modelValue:De,...K}=U.filterProps(e),Q=ke(e);return a(U,x({ref:R,modelValue:i.value,"onUpdate:modelValue":V=>i.value=V,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":L.value},e.class],style:e.style,"onClick:prepend":X},h,K,{centerAffix:!L.value,focused:y.value}),{...o,default:V=>{let{id:k,isDisabled:b,isDirty:M,isReadonly:N,isValid:W}=V;return a(we,x({ref:T,"prepend-icon":e.prependIcon,onMousedown:Y,onClick:G,"onClick:clear":H,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Q,{id:k.value,active:q.value||M.value,dirty:M.value||e.dirty,disabled:b.value,focused:y.value,error:W.value===!1}),{...o,default:Z=>{var $;let{props:{class:ee,...le}}=Z;return a(C,null,[a("input",x({ref:c,type:"file",readonly:N.value,disabled:b.value,multiple:e.multiple,name:e.name,onClick:f=>{f.stopPropagation(),N.value&&f.preventDefault(),_()},onChange:f=>{if(!f.target)return;const te=f.target;i.value=[...te.files??[]]},onFocus:_,onBlur:r},le,J),null),a("div",{class:ee},[!!(($=i.value)!=null&&$.length)&&!e.hideInput&&(o.selection?o.selection({fileNames:F.value,totalBytes:d.value,totalBytesReadable:A.value}):e.chips?F.value.map(f=>a(_e,{key:f,size:"small",text:f},null)):F.value.join(", "))])])}})},details:n?V=>{var k,b;return a(C,null,[(k=o.details)==null?void 0:k.call(o,V),l&&a(C,null,[a("span",null,null),a(Ce,{active:!!((b=i.value)!=null&&b.length),value:O.value,disabled:e.disabled},o.counter)])])}:void 0})}),Fe({},R,T,c)}}),ze={class:"form-container"},Ae={class:"mb-6"},Re={class:"mb-6"},Te={class:"logo-upload-area"},Le={key:0,class:"logo-placeholder"},Me={key:1,class:"logo-preview"},Ne={class:"d-flex justify-center w-100"},$e={__name:"BasicInfoTab",setup(e){const v=g(null),I=g(null),s=g(null),o=g(!1),u=me({name:"한화시스템",logo:null}),i=()=>{v.value.$el.querySelector("input").click()},y=r=>{if(r){const t=new FileReader;t.onload=d=>{s.value=d.target.result},t.readAsDataURL(r)}else s.value=null},S=async()=>{o.value=!0;try{console.log("Saving tenant info:",u),await new Promise(r=>setTimeout(r,1e3)),s.value&&(u.logo=s.value,s.value=null),console.log("Tenant info saved successfully")}catch(r){console.error("Failed to save tenant info:",r)}finally{o.value=!1}};return ve(()=>{console.log("Loading tenant info...")}),(r,t)=>(P(),B(C,null,[t[6]||(t[6]=m("div",{class:"text-body-2 text-medium-emphasis mb-4"}," ■ 회사 이름과 로고를 변경할 수 있다. ",-1)),m("div",ze,[a(he,{onSubmit:pe(S,["prevent"]),class:"centered-form"},{default:w(()=>[m("div",Ae,[a(j,{class:"text-body-1 font-weight-medium mb-2"},{default:w(()=>t[2]||(t[2]=[z("Tenant명")])),_:1}),a(Se,{modelValue:u.name,"onUpdate:modelValue":t[0]||(t[0]=d=>u.name=d),placeholder:"테넌트명을 입력하세요",variant:"outlined",rounded:"lg","hide-details":""},null,8,["modelValue"])]),m("div",Re,[a(j,{class:"text-body-1 font-weight-medium mb-2"},{default:w(()=>t[3]||(t[3]=[z("Tenant 로고")])),_:1}),m("div",Te,[a(Pe,{modelValue:I.value,"onUpdate:modelValue":t[1]||(t[1]=d=>I.value=d),accept:"image/*","show-size":!1,"hide-details":"",class:"d-none",ref_key:"fileInput",ref:v,onChange:y},null,8,["modelValue"]),m("div",{class:"logo-display-area",onClick:i},[!u.logo&&!s.value?(P(),B("div",Le,[a(ge,{icon:"ri-image-add-line",size:"48",color:"grey"}),t[4]||(t[4]=m("div",{class:"text-body-2 text-grey mt-2"},"로고를 업로드하세요",-1))])):(P(),B("div",Me,[a(xe,{src:s.value||u.logo,alt:"Tenant Logo","max-width":"200","max-height":"100",contain:""},null,8,["src"])]))])])]),m("div",Ne,[a(ye,{type:"submit",color:"primary",rounded:"lg",loading:o.value,disabled:!u.name,class:"w-100"},{default:w(()=>t[5]||(t[5]=[z(" Save ")])),_:1},8,["loading","disabled"])])]),_:1})])],64))}},Qe=fe($e,[["__scopeId","data-v-c486255d"]]);export{Qe as default};
