import{a as v,V as N}from"./VRow-C59k9xFs.js";import{V as w}from"./VCard-BD2Tg-Y7.js";import{V as q}from"./VTable-CQ1cqGtT.js";import{h as B,r as $,l as h,o as l,c as s,b as i,w as d,u,a as f,F as c,j as g,a0 as z,t as V,i as k,d as A,e as j,Y as p,n as x,$ as L}from"./index-mzeqWVVh.js";import{V as S}from"./VPagination-fypDa0Ks.js";const T={key:0},D={key:0},U={__name:"CommonTable",props:{data:{type:Array,required:!0},columns:{type:Array,required:!0},page:{type:Number,required:!0},itemsPerPage:{type:Number,required:!0},totalItems:{type:Number,required:!0},actions:{type:Array,default:()=>[]},actionLabels:{type:Object,default:()=>({edit:"수정",delete:"삭제"})},actionColors:{type:Object,default:()=>({edit:"primary",delete:"error"})}},emits:["edit","delete","page-change","action"],setup(a,{emit:b}){const o=a,m=b,C=B(()=>{const e=(o.page-1)*o.itemsPerPage;return o.data.slice(e,e+o.itemsPerPage)}),y=$(o.page);h(()=>o.page,e=>{y.value=e}),h(y,e=>{e!==o.page&&m("page-change",e)});function P(e,n){m("action",{action:e,item:n}),e==="edit"&&m("edit",n),e==="delete"&&m("delete",n)}return(e,n)=>(l(),s(c,null,[i(u(N),null,{default:d(()=>[i(u(v),{cols:"12"},{default:d(()=>[i(u(w),{rounded:"lg",elevation:"1"},{default:d(()=>[i(u(q),{density:"comfortable"},{default:d(()=>[f("thead",null,[f("tr",null,[(l(!0),s(c,null,g(a.columns,t=>(l(),s("th",{key:t.key,style:z({width:t.width||"auto"})},V(t.label),5))),128)),a.actions.length>0?(l(),s("th",T,"관리")):k("",!0)])]),f("tbody",null,[(l(!0),s(c,null,g(C.value,t=>(l(),s("tr",{key:t.id},[(l(!0),s(c,null,g(a.columns,r=>(l(),s("td",{key:r.key},[A(e.$slots,`cell-${r.key}`,{item:t,value:t[r.key]},()=>[p(V(t[r.key]),1)])]))),128)),a.actions.length>0?(l(),s("td",D,[(l(!0),s(c,null,g(a.actions,r=>(l(),j(u(L),{key:r,size:"small",variant:"tonal",color:a.actionColors[r],class:x({"ml-2":r!==a.actions[0]}),onClick:F=>P(r,t)},{default:d(()=>[p(V(a.actionLabels[r]),1)]),_:2},1032,["color","class","onClick"]))),128))])):k("",!0)]))),128))])]),_:3})]),_:3})]),_:3})]),_:3}),i(u(S),{modelValue:y.value,"onUpdate:modelValue":[n[0]||(n[0]=t=>y.value=t),n[1]||(n[1]=t=>e.$emit("page-change",t))],class:"mt-4",length:Math.ceil(a.totalItems/a.itemsPerPage),size:"small"},null,8,["modelValue","length"])],64))}};export{U as _};
