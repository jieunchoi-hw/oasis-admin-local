import{m as T,V as B}from"./VOverlay-DaQs4zMZ.js";import{f as q}from"./forwardRefs-DWGaNmQL.js";import{E as F,M as I,a7 as z,r as S,p as O,ap as R,l as p,S as $,aq as j,ag as M,X as w,b as m,ar as U,h as W,o,c as u,w as b,u as y,a as x,F as E,j as k,a0 as H,t as A,i as L,d as X,e as Y,Y as D,n as G,$ as J}from"./index-DH4sVD2T.js";import{u as K}from"./scopeId-B8Q6E9_U.js";import{e as Q}from"./VMenu-f5LwcuRD.js";import{a as Z,V as _}from"./VRow-C6sk4mQ8.js";import{V as ee}from"./VCard-CkRqykqp.js";import{V as te}from"./VTable-CDAteKFH.js";import{V as ae}from"./VPagination-CYm_-rYk.js";const le=F({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...T({origin:"center center",scrollStrategy:"block",transition:{component:Q},zIndex:2400})},"VDialog"),ve=I()({name:"VDialog",props:le(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,C){let{emit:r,slots:i}=C;const g=z(e,"modelValue"),{scopeId:v}=K(),n=S();function a(t){var f,h;const d=t.relatedTarget,V=t.target;if(d!==V&&((f=n.value)!=null&&f.contentEl)&&((h=n.value)!=null&&h.globalTop)&&![document,n.value.contentEl].includes(V)&&!n.value.contentEl.contains(V)){const c=j(n.value.contentEl);if(!c.length)return;const P=c[0],N=c[c.length-1];d===P?N.focus():P.focus()}}O(()=>{document.removeEventListener("focusin",a)}),R&&p(()=>g.value&&e.retainFocus,t=>{t?document.addEventListener("focusin",a):document.removeEventListener("focusin",a)},{immediate:!0});function s(){var t;r("afterEnter"),(t=n.value)!=null&&t.contentEl&&!n.value.contentEl.contains(document.activeElement)&&n.value.contentEl.focus({preventScroll:!0})}function l(){r("afterLeave")}return p(g,async t=>{var d;t||(await M(),(d=n.value.activatorEl)==null||d.focus({preventScroll:!0}))}),$(()=>{const t=B.filterProps(e),d=w({"aria-haspopup":"dialog"},e.activatorProps),V=w({tabindex:-1},e.contentProps);return m(B,w({ref:n,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},t,{modelValue:g.value,"onUpdate:modelValue":f=>g.value=f,"aria-modal":"true",activatorProps:d,contentProps:V,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:s,onAfterLeave:l},v),{activator:i.activator,default:function(){for(var f=arguments.length,h=new Array(f),c=0;c<f;c++)h[c]=arguments[c];return m(U,{root:"VDialog"},{default:()=>{var P;return[(P=i.default)==null?void 0:P.call(i,...h)]}})}})}),q({},n)}}),ne={key:0},oe={key:0},ye={__name:"CommonTable",props:{data:{type:Array,required:!0},columns:{type:Array,required:!0},page:{type:Number,required:!0},itemsPerPage:{type:Number,required:!0},totalItems:{type:Number,required:!0},actions:{type:Array,default:()=>[]},actionLabels:{type:Object,default:()=>({edit:"수정",delete:"삭제"})},actionColors:{type:Object,default:()=>({edit:"primary",delete:"error"})}},emits:["edit","delete","page-change","action"],setup(e,{emit:C}){const r=e,i=C,g=W(()=>{const a=(r.page-1)*r.itemsPerPage;return r.data.slice(a,a+r.itemsPerPage)}),v=S(r.page);p(()=>r.page,a=>{v.value=a}),p(v,a=>{a!==r.page&&i("page-change",a)});function n(a,s){i("action",{action:a,item:s}),a==="edit"&&i("edit",s),a==="delete"&&i("delete",s)}return(a,s)=>(o(),u(E,null,[m(y(_),null,{default:b(()=>[m(y(Z),{cols:"12"},{default:b(()=>[m(y(ee),{rounded:"lg",elevation:"1"},{default:b(()=>[m(y(te),{density:"comfortable"},{default:b(()=>[x("thead",null,[x("tr",null,[(o(!0),u(E,null,k(e.columns,l=>(o(),u("th",{key:l.key,style:H({width:l.width||"auto"})},A(l.label),5))),128)),e.actions.length>0?(o(),u("th",ne,"관리")):L("",!0)])]),x("tbody",null,[(o(!0),u(E,null,k(g.value,l=>(o(),u("tr",{key:l.id},[(o(!0),u(E,null,k(e.columns,t=>(o(),u("td",{key:t.key},[X(a.$slots,`cell-${t.key}`,{item:l,value:l[t.key]},()=>[D(A(l[t.key]),1)])]))),128)),e.actions.length>0?(o(),u("td",oe,[(o(!0),u(E,null,k(e.actions,t=>(o(),Y(y(J),{key:t,size:"small",variant:"tonal",color:e.actionColors[t],class:G({"ml-2":t!==e.actions[0]}),onClick:d=>n(t,l)},{default:b(()=>[D(A(e.actionLabels[t]),1)]),_:2},1032,["color","class","onClick"]))),128))])):L("",!0)]))),128))])]),_:3})]),_:3})]),_:3})]),_:3}),m(y(ae),{modelValue:v.value,"onUpdate:modelValue":[s[0]||(s[0]=l=>v.value=l),s[1]||(s[1]=l=>a.$emit("page-change",l))],class:"mt-4",length:Math.ceil(e.totalItems/e.itemsPerPage),size:"small"},null,8,["modelValue","length"])],64))}};export{ve as V,ye as _};
